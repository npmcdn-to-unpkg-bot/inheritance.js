/*!
 * inheritance.js (1.0.0-beta.0)
 *
 * Copyright (c) 2016 Brandon Sara (http://bsara.github.io)
 * Licensed under the CPOL-1.02 (https://github.com/bsara/inheritance.js/blob/master/LICENSE.md)
 */
!function(e,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?module.exports=r():e.I=r()}(this,function(){function mixDeep(e,r){var t=e||{};r instanceof Array||(r=[r]);for(var n=0;n<r.length;n++){var o=r[n];if(o)for(var i in o)o.hasOwnProperty(i)&&(null===o[i]||"object"!=typeof o[i]?t[i]=o[i]:mixDeep(t[i],o[i]))}return t}function inheritance(parent,objDefProps){parent=parent||Object,objDefProps=objDefProps||{};var objDef,objCtor=objDefProps.ctor||function(){return objDef.__super__.constructor.apply(this,arguments)},objDefName=_getObjDefName(objCtor,objDefProps.__defName);return eval("objDef = function"+(objDefName?" "+objDefName:"")+"() { return objCtor.apply(this, arguments); };"),objDef.prototype=Object.create(parent.prototype),makeInheritable(objDef),_addMixins(objDefProps),_addConstants(objDef,objDefProps.consts),_addStaticProperties(objDef,objDefProps.statics),_addPrototypeProperties(objDef,objDefProps),_addSuperFunction(objDef),_addOwnerIfFunction(objDef.prototype,objCtor),Object.defineProperty(objDef,"isObjDef",{get:function(){return!0}}),Object.defineProperty(objDef,"__super__",{get:function(){return parent.prototype}}),Object.defineProperty(objDef.prototype,"__ctor__",{get:function(){return objCtor}}),objDef}function _getObjDefName(e,r){return"string"==typeof r&&r.trim()?r.trim():e.name?e.name:void 0}function _addMixins(e){var r=e.mixins;null!=r&&Array.isArray(r)&&mixDeep(e,r)}function _addConstants(e,r){if(null!=r)for(var t in r){if(_isReservedStaticProperty(t))throw new ReferenceError("");!function(r,t){Object.defineProperty(e,r,{get:function(){return t}})}(t,r[t])}}function _addStaticProperties(e,r){if(null!=r)for(var t in r){if(_isReservedStaticProperty(t))throw new ReferenceError("");_addProperty(e,r,t)}}function _addPrototypeProperties(e,r){e.prototype.constructor=_addOwnerIfFunction(e.prototype,e);for(var t in r){if("constructor"===t||"ctor"===t||"consts"===t||"statics"===t||"_super"===t||"__ctor__"===t||"__defName"===t)throw new ReferenceError("");_addProperty(e.prototype,r,t)}}function _addSuperFunction(e){Object.defineProperty(e.prototype,"_super",{configurable:!1,enumerable:!1,writable:!1,value:function(){var e=arguments.callee.caller;if(e){var r=e.owner,t=r.constructor.__super__;if(t){if(e===r.constructor||e===r.__ctor__)return t.constructor.apply(this,arguments);var n=e.name;if(!n)for(var o=Object.getOwnPropertyNames(r),i=0;i<o.length;i++){var f=o[i],a=Object.getOwnPropertyDescriptor(r,f);if(a.value===e||a.get===e||a.set===e){n=f;break}}if(n){var u,c=InternalUtils.getPropertyDescriptor(t,n),p=InternalUtils.getPropertyDescriptor(r,n);if(null!=c&&(u=null!=p.get&&p.get===e?c.get:null!=p.set&&p.set===e?c.set:c.value),"function"==typeof u&&null!=u)return u.apply(this,arguments)}}}}})}function _isReservedStaticProperty(e){return"isObjDef"===e||"__super__"===e||"__defName"===e}function _addProperty(e,r,t){var n={},o=Object.getOwnPropertyDescriptor(r,t);if("undefined"!=typeof o)for(var i in o)n[i]=o[i];"undefined"!=typeof n.value&&_addOwnerIfFunction(e,_deepClone(n.value)),"undefined"!=typeof n.get&&_addOwnerIfFunction(e,n.get),"undefined"!=typeof n.set&&_addOwnerIfFunction(e,n.set),Object.defineProperty(e,t,n)}function _addOwnerIfFunction(e,r){return"function"==typeof r&&(r.owner=e),r}function _deepClone(e){if(null==e)return e;var r=e;if(Array.isArray(e))r=new e.constructor,e.forEach(function(e){r.push(_deepClone(e))});else if("object"==typeof e){var t=e instanceof Date?e.valueOf():void 0;r=new e.constructor(t);for(var n in e)r[n]=_deepClone(e[n])}return r}function makeInheritable(e,r,t){if(null==e)throw new TypeError("`obj` cannot be undefined or null!");if(r!==!0&&null!=e.extend){if(t===!0)return e;throw new TypeError("`obj.extend` already exists! You're seeing this error to prevent the current extend function from being overwritten. See docs for how to override this functionality.")}return Object.defineProperty(e,"extend",{value:function(r){return inheritance(e,r)},configurable:!0,enumerable:!1,writable:!0}),e}var InternalUtils={getPropertyDescriptor:function(e,r){var t=Object.getOwnPropertyDescriptor(e,r);if(null!=t)return t;if(null!=e.constructor&&null!=e.constructor.__super__)return InternalUtils.getPropertyDescriptor(e.constructor.__super__,r)}};return{mixDeep:mixDeep,inheritance:inheritance,makeInheritable:makeInheritable}});