/*!
 * inheritance.js (1.0.0-beta.0)
 *
 * Copyright (c) 2016 Brandon Sara (http://bsara.github.io)
 * Licensed under the CPOL-1.02 (https://github.com/bsara/inheritance.js/blob/master/LICENSE.md)
 */
!function(e,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?module.exports=r():e.I=r()}(this,function(){function mixDeep(e,r){var t=e||{};r instanceof Array||(r=[r]);for(var o=0;o<r.length;o++){var n=r[o];if(n)for(var i in n)n.hasOwnProperty(i)&&(null===n[i]||"object"!=typeof n[i]?t[i]=n[i]:mixDeep(t[i],n[i]))}return t}function inheritance(parent,objDefProps){parent=parent||Object,objDefProps=objDefProps||{};var objDef,objCtor=objDefProps.ctor||function(){return objDef.__super__.constructor.apply(this,arguments)},objDefName=_getObjDefName(objCtor,objDefProps.__defName);return eval("objDef = function"+(objDefName?" "+objDefName:"")+"() { return objCtor.apply(this, arguments); };"),objDef.prototype=Object.create(parent.prototype),makeInheritable(objDef),_addMixins(objDefProps),_addConstants(objDef,objDefProps.consts),_addStaticProperties(objDef,objDefProps.statics),_addPrototypeProperties(objDef,objDefProps),_addSuperFunction(objDef),_addOwnerIfFunction(objDef.prototype,objCtor),Object.defineProperty(objDef,"isObjDef",{get:function(){return!0}}),Object.defineProperty(objDef,"__super__",{get:function(){return parent.prototype}}),Object.defineProperty(objDef.prototype,"__ctor__",{get:function(){return objCtor}}),objDef}function _getObjDefName(e,r){return"string"==typeof r&&r.trim()?r.trim():e.name?e.name:void 0}function _addMixins(e){var r=e.mixins;null!=r&&Array.isArray(r)&&mixDeep(e,r)}function _addConstants(e,r){if(null!=r)for(var t in r){if(_isReservedStaticProperty(t))throw new ReferenceError("");!function(r,t){Object.defineProperty(e,r,{get:function(){return t}})}(t,r[t])}}function _addStaticProperties(e,r){if(null!=r)for(var t in r){if(_isReservedStaticProperty(t))throw new ReferenceError("");_addProperty(e,r,t)}}function _addPrototypeProperties(e,r){e.prototype.constructor=_addOwnerIfFunction(e.prototype,e);for(var t in r){if("constructor"===t||"ctor"===t||"consts"===t||"statics"===t||"_super"===t||"__ctor__"===t||"__defName"===t)throw new ReferenceError("");_addProperty(e.prototype,r,t)}}function _addSuperFunction(e){Object.defineProperty(e.prototype,"_super",{configurable:!1,enumerable:!1,writable:!1,value:function(){var e=arguments.callee.caller;if(e){var r=e.owner,t=r.constructor.__super__;if(t){if(e===r.constructor||e===r.__ctor__)return t.constructor.apply(this,arguments);var o=e.name;if(!o)for(var n=Object.getOwnPropertyNames(r),i=0;i<n.length;i++){var f=n[i],p=Object.getOwnPropertyDescriptor(r,f);if(p.value===e||p.get===e||p.set===e){o=f;break}}if(o){var a,c=InternalUtils.getPropertyDescriptor(t,o),u=InternalUtils.getPropertyDescriptor(r,o);if(null!=c&&(a=null!=u.get&&u.get===e?c.get:null!=u.set&&u.set===e?c.set:c.value),"function"==typeof a&&null!=a)return a.apply(this,arguments)}}}}})}function _isReservedStaticProperty(e){return"isObjDef"===e||"__super__"===e||"__defName"===e}function _addProperty(e,r,t){var o={},n=Object.getOwnPropertyDescriptor(r,t);if("undefined"!=typeof n)for(var i in n)o[i]=n[i];"undefined"!=typeof o.value&&_addOwnerIfFunction(e,_deepClone(o.value)),"undefined"!=typeof o.get&&_addOwnerIfFunction(e,o.get),"undefined"!=typeof o.set&&_addOwnerIfFunction(e,o.set),Object.defineProperty(e,t,o)}function _addOwnerIfFunction(e,r){return"function"==typeof r&&(r.owner=e),r}function _deepClone(e){if(null==e)return e;var r=e;if(Array.isArray(e))r=new e.constructor,e.forEach(function(e){r.push(_deepClone(e))});else if("object"==typeof e){var t=e instanceof Date?e.valueOf():void 0;r=new e.constructor(t);for(var o in e)r[o]=_deepClone(e[o])}return r}var InternalUtils={getPropertyDescriptor:function(e,r){var t=Object.getOwnPropertyDescriptor(e,r);if(null!=t)return t;if(null!=e.constructor&&null!=e.constructor.__super__)return InternalUtils.getPropertyDescriptor(e.constructor.__super__,r)}};return{mixDeep:mixDeep,inheritance:inheritance}});